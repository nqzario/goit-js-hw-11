{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-function.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export const divEl = document.querySelector('.card-container');\nexport  function renderPhoto(arrayHits) {\n    // divEl.innerHTML = '';\n    const markup = arrayHits.hits.reduce((value, hit) => {\n        const { webformatURL, largeImageURL, tags, likes, views, comments, downloads } = hit;\n        return value += `<div class=\"container-img\">\n      <a href=\"${largeImageURL}\"><img src=\"${webformatURL}\" alt=\"${tags}\"></a>\n      <ul class=\"img_list\">\n        <li class=\"img_item\">\n          <h3 class=\"img_title\">Likes</h3>\n          <span class=\"img_text\">${likes}</span>\n        </li>\n        <li class=\"img_item\">\n          <h3 class=\"img_title\">Views</h3>\n          <span class=\"img_text\">${views}</span>\n        </li>\n        <li class=\"img_item\">\n          <h3 class=\"img_title\">comments</h3>\n          <span class=\"img_text\">${comments}</span>\n        </li>\n        <li class=\"img_item\">\n          <h3 class=\"img_title\">downloads</h3>\n          <span class=\"img_text\">${downloads}</span>\n        </li>\n      </ul>\n        </div>`\n    }, '');\n    divEl.insertAdjacentHTML('beforeend', markup);\n}\n","const URL = 'https://pixabay.com/api/';\nconst API_KEY = '43780591-6ab37bb22e1af39025cb54e89';\nexport function fetchPhoto(valuePhoto) {\n    const searchParams = new URLSearchParams({\n        key: API_KEY,\n        q: valuePhoto,\n        safesearch: true,\n        image_type: 'photo',\n        orientation: 'horizontal',\n    });\n    return fetch(`${URL}?${searchParams}`)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error(\"Sorry, something went wrong with the request!\");\n            }\n            return response.json();\n        })\n        .then(data => {\n            if (data.hits.length === 0 || valuePhoto === \"\") {\n                throw new Error(\"Sorry, there are no images matching your search query. Please try again!\");\n            }\n            return data;\n        });\n}\n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport { renderPhoto , divEl} from   \"./js/render-function\";\nimport { fetchPhoto } from \"./js/pixabay-api\";\n\n\nconst formEl = document.querySelector('.search-form');\nconst inputEl = formEl.querySelector('input');\nconst loaderEl = document.querySelector('.loader');\n\n\nformEl.addEventListener('submit', (evn) => {\n    evn.preventDefault();\n    divEl.innerHTML = \"\";\n    loaderEl.classList.remove(\"is-hidden\");\n    const valueInput = inputEl.value.trim();\n\n    fetchPhoto(valueInput).then(renderPhoto).then(() => {\n        const lightbox = new SimpleLightbox('.container-img a');\n        lightbox.refresh();\n    }).catch(error => {\n        iziToast.show({ title: error.message, position: 'topRight', backgroundColor: 'red' }); \n    }).finally(() => {\n        formEl.reset();    \n        loaderEl.classList.add(\"is-hidden\");\n    });\n    \n});\n\n\n"],"names":["divEl","renderPhoto","arrayHits","markup","value","hit","webformatURL","largeImageURL","tags","likes","views","comments","downloads","URL","API_KEY","fetchPhoto","valuePhoto","searchParams","response","data","formEl","inputEl","loaderEl","evn","valueInput","SimpleLightbox","error","iziToast"],"mappings":"6vBAAO,MAAMA,EAAQ,SAAS,cAAc,iBAAiB,EACrD,SAASC,EAAYC,EAAW,CAEpC,MAAMC,EAASD,EAAU,KAAK,OAAO,CAACE,EAAOC,IAAQ,CACjD,KAAM,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,EAAGP,EACjF,OAAOD,GAAS;AAAA,iBACPG,CAAa,eAAeD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,mCAIpCC,CAAK;AAAA;AAAA;AAAA;AAAA,mCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,mCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,mCAIRC,CAAS;AAAA;AAAA;AAAA,eAIvC,EAAE,EAAE,EACLZ,EAAM,mBAAmB,YAAaG,CAAM,CAChD,CC5BA,MAAMU,EAAM,2BACNC,EAAU,qCACT,SAASC,EAAWC,EAAY,CACnC,MAAMC,EAAe,IAAI,gBAAgB,CACrC,IAAKH,EACL,EAAGE,EACH,WAAY,GACZ,WAAY,QACZ,YAAa,YACrB,CAAK,EACD,OAAO,MAAM,GAAGH,CAAG,IAAII,CAAY,EAAE,EAChC,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAM,+CAA+C,EAEnE,OAAOA,EAAS,MAC5B,CAAS,EACA,KAAKC,GAAQ,CACV,GAAIA,EAAK,KAAK,SAAW,GAAKH,IAAe,GACzC,MAAM,IAAI,MAAM,0EAA0E,EAE9F,OAAOG,CACnB,CAAS,CACT,CCfA,MAAMC,EAAS,SAAS,cAAc,cAAc,EAC9CC,EAAUD,EAAO,cAAc,OAAO,EACtCE,EAAW,SAAS,cAAc,SAAS,EAGjDF,EAAO,iBAAiB,SAAWG,GAAQ,CACvCA,EAAI,eAAc,EAClBvB,EAAM,UAAY,GAClBsB,EAAS,UAAU,OAAO,WAAW,EACrC,MAAME,EAAaH,EAAQ,MAAM,KAAI,EAErCN,EAAWS,CAAU,EAAE,KAAKvB,CAAW,EAAE,KAAK,IAAM,CAC/B,IAAIwB,EAAe,kBAAkB,EAC7C,QAAO,CACxB,CAAK,EAAE,MAAMC,GAAS,CACdC,EAAS,KAAK,CAAE,MAAOD,EAAM,QAAS,SAAU,WAAY,gBAAiB,KAAK,CAAE,CAC5F,CAAK,EAAE,QAAQ,IAAM,CACbN,EAAO,MAAK,EACZE,EAAS,UAAU,IAAI,WAAW,CAC1C,CAAK,CAEL,CAAC"}